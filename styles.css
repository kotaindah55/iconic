.iconic-icon > .iconic-emoji {
  display: inline-flex;
  flex-wrap: wrap;
  align-content: center;
  justify-content: center;
  overflow: clip;
  overflow-clip-margin: 5px;
  width: var(--icon-size);
  height: var(--icon-size);
  font-size: calc(var(--icon-size) * 0.9);
}

.menu-item-icon.iconic-icon .iconic-emoji {
  --icon-size: var(--icon-s);
  --icon-stroke: var(--icon-s-stroke-width);
}

/* Sortable list */
.setting-item + .iconic-sortable-list > .setting-item:first-child {
  padding-top: 0.75em;
  border-top: 1px solid var(--background-modifier-border);
}

/* Indicators */
.iconic-indicator {
  pointer-events: none;
}

/* Invisibility */
.iconic-invisible {
  visibility: hidden;
}

.is-phone .iconic-reset-color.iconic-invisible {
  display: none;
}

/* Colorless settings */
.iconic-uncolor-hover .workspace-tab-header:hover .iconic-icon > .svg-icon,
.iconic-uncolor-hover .tree-item-self:hover > .tree-item-icon.iconic-icon > .svg-icon,
.iconic-uncolor-hover .side-dock-ribbon-action.iconic-icon:hover > .svg-icon,
.iconic-uncolor-hover .iconic-search-result:hover > .svg-icon {
  color: currentColor !important;
}

.iconic-uncolor-drag > .drag-ghost .svg-icon {
  color: currentColor !important;
}

.iconic-uncolor-select .workspace-tab-header.is-active .iconic-icon > .svg-icon,
.iconic-uncolor-select .tree-item-self.is-active > .tree-item-icon.iconic-icon > .svg-icon {
  color: currentColor !important;
}

/* Tabs */
.workspace .mod-root .workspace-tab-header[data-type=markdown] .workspace-tab-header-inner-icon,
.workspace .mod-root .workspace-tab-header[data-type=empty] .workspace-tab-header-inner-icon {
  display: flex;
}

.workspace .mod-stacked .iconic-emoji {
  transform: rotate(-90deg);
}

.iconic-bigger-icons .mod-root .workspace-tab-header-inner-icon.iconic-icon > * {
  --icon-size: var(--icon-s);
  --icon-stroke: var(--icon-s-stroke-width);
}

/* Ribbon */
.side-dock-ribbon-action.iconic-icon > .iconic-emoji {
  --icon-size: var(--icon-l);
}

.mobile-option-setting-item-option-icon.iconic-icon {
  cursor: var(--cursor-link);
}

/* List items */
.tree-item-self > .iconic-icon {
  --icon-size: var(--icon-xs);
}
.iconic-clickable-icons .tree-item-self > .iconic-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

.tree-item-self > .iconic-sidekick {
  display: flex;
  align-self: center;
  width: var(--size-4-4);
  margin-inline-end: var(--size-4-1);
  opacity: var(--icon-opacity);
}

.iconic-bigger-icons .tree-item-self > .iconic-icon {
  --icon-size: var(--icon-s);
  --icon-stroke: var(--icon-s-stroke-width);
}

.iconic-bigger-icons .iconic-item > .tree-item-self > .tree-item-inner {
  margin-inline-start: 1.5px;
}

.is-mobile .iconic-bigger-icons .tree-item.iconic-item > .tree-item-self > .tree-item-inner {
  margin-inline-start: 3px;
}

/* Suggestion modal */
.suggestion-item.mod-complex .suggestion-icon .suggestion-flair.iconic-icon:empty {
  margin-inline-end: 0;
}

.suggestion-flair.iconic-icon > .iconic-emoji {
  --icon-size: var(--icon-s);
}

/* Quick Switcher++ suggest */
.qsp-note {
  display: flex;
}

.qsp-path-indicator {
  --icon-size: var(--icon-xs);
}

/* Note inline title */
.inline-title-wrapper {
  display: flex;
  gap: var(--size-4-2);
}

.inline-title-wrapper > .inline-title {
  flex: 1 0 auto;
}

.inline-title-wrapper > .iconic-icon {
  --icon-size: var(--icon-xl);
  font-size: var(--inline-title-size);
  margin-block-end: var(--inline-title-margin-bottom);
}
.iconic-clickable-icons .inline-title-wrapper > .iconic-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

.inline-title-wrapper > .iconic-icon > .iconic-emoji {
  vertical-align: top;
}

/* Shortcodes */
.iconic-icon.iconic-shortcode {
  --icon-size: 1em;
}

.iconic-icon.iconic-shortcode > .svg-icon {
  height: 1lh;
  vertical-align: bottom;
}

/* Editor tags */
.cm-hashtag.cm-hashtag-icon {
  --icon-size: var(--icon-xs);
  border-start-start-radius: var(--tag-radius);
  border-end-start-radius: var(--tag-radius);
  padding-inline-start: var(--tag-padding-x);
}
.iconic-clickable-icons .cm-hashtag.cm-hashtag-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

.cm-hashtag.cm-hashtag-icon > .svg-icon .cm-hashtag.cm-hashtag-icon > .iconic-emoji {
  vertical-align: middle;
}

.cm-hashtag.cm-hashtag-icon + .cm-hashtag.cm-hashtag-begin {
  border-start-start-radius: 0;
  border-end-start-radius: 0;
  padding-inline-start: var(--size-4-1);
}

/* Reading mode tags */
a.tag {
  display: inline-flex;
  vertical-align: middle;
  align-items: center;
  gap: var(--size-4-1);
}

a.tag > .iconic-icon {
  --icon-size: var(--icon-xs);
}
.iconic-clickable-icons a.tag > .iconic-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

a.tag > .iconic-icon > .svg-icon,
a.tag > .iconic-icon > .iconic-emoji {
  vertical-align: middle;
}

/* Property internal links */
.metadata-link-inner.internal-link {
  --icon-size: var(--icon-xs);
  display: flex;
}

.metadata-link-inner.internal-link > .iconic-icon {
  display: flex;
  align-self: center;
  text-decoration-line: none;
  margin-inline-end: var(--size-4-1);
}
.iconic-clickable-icons .metadata-link-inner.internal-link > .iconic-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

/* Multi text property */
.multi-select-pill > .iconic-icon {
  display: flex;
  margin-inline-start: var(--size-4-2);
  margin-inline-end: var(--size-4-1);
}
.iconic-clickable-icons .multi-select-pill > .iconic-icon:hover {
  filter: contrast(200%);
  cursor: var(--cursor-link);
}

.multi-select-pill.internal-link > .iconic-icon {
  margin-inline-start: 0;
  text-decoration-line: none;
}

.multi-select-pill > .iconic-icon + .multi-select-pill-content {
  margin-inline-start: 0;
}

.multi-select-pill > .iconic-icon + .multi-select-pill-content + .multi-select-pill-remove-button {
  color: inherit;
}

/* Icon picker */
.is-mobile .mod-confirmation > .modal.iconic-icon-picker {
  background-color: var(--modal-background);
}

.iconic-icon-picker .callout + .setting-item {
  border-top: none;
}

.iconic-icon-picker .setting-item-control input[type=color] {
  height: auto;
  width: auto;
}

.iconic-icon-picker .setting-item-control input[type=text] {
  width: 100%;
}

.iconic-icon-picker .setting-item-control .search-input-container {
  width: 100%;
}

.iconic-icon-picker .extra-setting-button:focus-visible {
  box-shadow: none;
  opacity: var(--icon-opacity-hover);
  color: var(--icon-color-hover);
  background-color: var(--background-modifier-hover);
}

.theme-dark .iconic-icon-picker .iconic-mode-selected {
  color: var(--interactive-accent-hover);
}

.theme-light .iconic-icon-picker .iconic-mode-selected {
  color: var(--interactive-accent);
}

.is-mobile .iconic-button-row {
  display: flex;
  flex-direction: row;
  gap: var(--size-4-3);
}

.is-phone .iconic-button-row > button {
  width: 100%;
}

.is-tablet .iconic-button-row > button:not(.mod-destructive) {
  margin-inline-start: auto;
}

/* Search results container */
.iconic-search-results {
  overflow-x: scroll;
}

.iconic-search-results > .setting-item-info {
  display: none;
}

.iconic-search-results > .setting-item-control {
  justify-content: center;
}

.iconic-search-results:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}

.is-phone .iconic-search-results {
  flex-direction: row !important;
}

.is-phone .iconic-search-results > .setting-item-control {
  width: auto !important;
}

/* Search result */
.iconic-search-result > * {
  height: var(--icon-size);
  --icon-size: calc(var(--icon-l) * 1.25);
  --icon-stroke: calc(var(--icon-l-stroke-width) * 6 / 7);
}

.is-mobile .iconic-search-result > * {
  --icon-size: var(--icon-l);
  --icon-stroke: var(--icon-l-stroke-width);
}

/* Rule picker */
.is-mobile .mod-confirmation > .modal.iconic-rule-picker {
  background-color: var(--modal-background);
}

.setting-item > .iconic-rule-icon {
  padding: var(--size-2-2);
  margin-inline-end: var(--size-4-2);
}

.setting-item > .setting-item-info > .iconic-rule-name {
  width: fit-content;
  min-width: var(--size-4-4);
  overflow-wrap: anywhere;
}

.setting-item > .setting-item-info > .iconic-rule-name:hover,
.setting-item > .setting-item-info > .iconic-rule-name[contenteditable=true] {
  border: var(--input-border-width) solid var(--background-modifier-border);
  border-radius: var(--input-radius);
  margin: calc(-1 * var(--size-4-1) - var(--input-border-width)) calc(-1 * var(--size-4-2) - var(--input-border-width));
  padding: var(--size-4-1) var(--size-4-2);
  background: var(--background-modifier-form-field);
  color: var(--text-normal);
}

.iconic-drag-handle:hover {
  cursor: grab;
}

.iconic-drag-handle:active {
  cursor: grabbing;
}

.iconic-add > .setting-item-control {
  justify-content: flex-start;
}

.drag-reorder-ghost .iconic-rule,
.drag-reorder-ghost .iconic-condition {
  padding: 0.75em 0;
}

.mod-rtl .drag-reorder-ghost .iconic-rule,
.mod-rtl .drag-reorder-ghost .iconic-condition {
  direction: rtl;
}

.iconic-rule-picker .drag-ghost-hidden + .setting-item,
.iconic-rule-editor .drag-ghost-hidden + .setting-item {
  border-top-color: transparent;
}

/* Rule editor */
.is-mobile .mod-confirmation > .modal.iconic-rule-editor {
  background-color: var(--modal-background);
}

.iconic-rule-editor .setting-item:first-child input[type=text] {
  width: 100%;
}

.setting-item-control > .iconic-button-selected {
  color: var(--text-on-accent);
  background-color: var(--interactive-accent);
}

.iconic-condition input[type=time] {
  border: var(--input-border-width) solid var(--background-modifier-border);
  border-radius: var(--input-radius);
  padding: var(--size-4-1) var(--size-4-2);
  background: var(--background-modifier-form-field);
  color: var(--text-normal);
  font-size: var(--font-ui-small);
  font-family: inherit;
}

.iconic-condition > .setting-item-control > select.dropdown {
  width: 0;
  flex: 1 1 fit-content;
  height: var(--input-height);
}

.iconic-condition > .setting-item-control > input {
  width: 0;
  flex: 1 1 fit-content;
}

.iconic-condition .iconic-control-column > input {
  height: var(--input-height);
}

.iconic-condition .iconic-control-column {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
  width: 100%;
}

.iconic-condition .iconic-dropdown-row {
  display: flex;
  flex-direction: row;
  gap: var(--size-4-2);
  width: 100%;
}

.is-phone .iconic-condition input {
  text-align: center;
}

/* Rule checker */
.is-mobile .mod-confirmation > .modal.iconic-rule-checker {
  background-color: var(--modal-background);
}

.iconic-matches {
  padding-top: 0.75em;
  border-top: 1px solid var(--background-modifier-border);
  margin: 0;
}

.iconic-match {
  padding: var(--size-4-1);
}

.iconic-highlight-tree .iconic-match-tree,
.iconic-highlight-name .iconic-match-name,
.iconic-highlight-extension .iconic-match-extension {
  color: var(--text-accent);
}
